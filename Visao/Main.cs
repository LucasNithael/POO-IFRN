using System;

public class Program {
  private static bool adminLogado = false;
  private static Usuario leitorLogado = null;
  
  public static void InserirAdmin() {
    Usuario u = new Usuario();
    u.Nome = "Administrador";
    u.NomeUsuario = "admin";
    u.Senha = "admin";
    u.Admin = true;
    NUsuario.Inserir(u);
  }
  
  public static void Main(){
    InserirAdmin();    
    int op = 0;
    do {
      try {
        op = Menu();
        switch (op) {
            // Categoria
            case 01 : 
              if (Login()) { 
                if (adminLogado) MainAdmin();
                else MainLeitor();
              }
              else
                Cor.DarkRed();
                Console.WriteLine("Usu√°rio ou Senha Inv√°lidos ‚úò");
              break;
            case 02 : Cadastro(); break;
        }
      }
      catch (Exception erro) {
        Console.WriteLine(erro.Message);      
      }
    } while (op != 99);
  }


   public static int Menu() {
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Magenta();
    Console.WriteLine("‚Ä¢ ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ ‚Ä¢");
    Console.Write("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ ");
    Cor.DarkBlue(); 
    Console.Write("BEM-VINDO(A)");
    Cor.Magenta();
    Console.WriteLine(" ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.Write("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑   ");
    Cor.Green();
    Console.Write("A NOSSA");
    Cor.Magenta();
    Console.Write("    ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑\n");
    Console.Write("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑  ");
    Cor.Yellow();
    Console.Write("BIBLIOTECA");
    Cor.Magenta();
    Console.WriteLine("  ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.WriteLine("‚Ä¢ ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ ‚Ä¢");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ SELECIONE ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø    01 - Login           ‚£ø");
    Console.WriteLine("‚£ø    02 - Cadastrar-se    ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø    99 - Sair            ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Op√ß√£o: ");
    return int.Parse(Console.ReadLine());
   }
  /*-----------------MENU DO LEITOR------------------------*/
  
  public static bool Login(){
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLOGIN„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Nome de usu√°rio: ");
    string nome = Console.ReadLine();
    Console.Write("‚ñ∂ Senha: ");
    string senha = Console.ReadLine();
    Usuario u = NUsuario.Autenticar(nome, senha);
    if (u != null) {
      // Algu√©m logou! true -> admin, false -> cliente
      adminLogado = u.Admin;
      // Cliente logado se estiver no cadastro de clientes
      // o id do usu√°rio informado
      leitorLogado = u;
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      return true;
    }
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    return false;
  }
  public static void MainLeitor() {
    int op = 0;
    do {
      try {
        op = MenuLeitor();
        switch (op) {
            // G√™nero
            case 01 : UsuarioGeneroListar(); break;
            case 02 : GeneroBuscar(); break;
            //Autor
            case 03 : UsaurioAutorListar(); break;
            case 04 : AutorBuscar(); break;
            //Livro
            case 05 : UsuarioLivroListar(); break;
            case 06 : UsuarioLivroBuscar(); break;
            //Leitura
            case 07 : LeituraListar(); break;
            case 8 : LeituraExcluir(); break;
            //Senha
            case 10: MudarSenha(); break;
          }
      }
      catch (Exception erro) {
        Console.WriteLine(erro.GetType() + "\n" + erro.Message);      
      }
    } while (op != 99);
  }

   public static int MenuLeitor() {
    Cor.Magenta();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.Write("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ ");
    Cor.Green();
    Console.Write("O QUE DESEJA?");
    Cor.Magenta();
    Console.Write(" ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑\n");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêG√äNERO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  01 - Listar G√™neros    ‚£ø");
    Console.WriteLine("‚£ø  02 - Buscar G√™nero     ‚£ø");
    Cor.DarkRed(); 
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêAUTOR„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue(); 
    Console.WriteLine("‚£ø  03 - Listar Autores    ‚£ø");
    Console.WriteLine("‚£ø  04 - Buscar Autor      ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVRO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑"); 
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  05 - Listar Livros     ‚£ø");
    Console.WriteLine("‚£ø  06 - Buscar Livro      ‚£ø");
    Cor.DarkRed(); 
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLEITURA„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑"); 
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  07 - Listar Leitura    ‚£ø");
    Console.WriteLine("‚£ø  08 - Excluir Leitura   ‚£ø");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.WriteLine("‚£ø  10 - Mudar Senha       ‚£ø");
    Console.WriteLine("‚£ø  99 - Logout            ‚£ø");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Op√ß√£o: ");
    return int.Parse(Console.ReadLine());    
  }
  /*------------------MENU DO ADMIN------------------------*/
  public static void MainAdmin() {
    int op = 0;
    do {
      try {
        op = MenuAdmin();
        switch (op) {
            // G√™nero
            case 01 : GeneroInserir(); break;
            case 02 : GeneroListar(); break;
            case 03 : GeneroAtualizar(); break;
            case 04 : GeneroExcluir(); break;
            // Livro
            case 05 : LivroInserir(); break;
            case 06 : LivroListar(); break;
            case 07 : LivroAtualizar(); break;
            case 08 : LivroExcluir(); break;
            // Autor
            case 09 : AutorInserir(); break;
            case 10 : AutorListar(); break;
            case 11 : AutorAtualizar(); break;
            case 12 : AutorExcluir(); break;
            // Leitor
            case 13 : UsuarioListar(); break;
            case 14 : UsuarioExcluir(); break;
          }
      }
      catch (Exception erro) {
        Console.WriteLine(erro.GetType() + "\n" + erro.Message);      
      }
    } while (op != 99);
  }

   public static int MenuAdmin() {
    Cor.Magenta();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.Write("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑ ");
    Cor.Green();
    Console.Write("O QUE DESEJA?");
    Cor.Magenta();
    Console.Write(" ‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑\n");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêG√äNERO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  01 - Inserir           ‚£ø");
    Console.WriteLine("‚£ø  02 - Listar G√™neros    ‚£ø");
    Console.WriteLine("‚£ø  03 - Atualizar         ‚£ø");
    Console.WriteLine("‚£ø  04 - Excluir           ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVRO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  05 - Inserir           ‚£ø");
    Console.WriteLine("‚£ø  06 - Listar            ‚£ø");
    Console.WriteLine("‚£ø  07 - Atualizar         ‚£ø");
    Console.WriteLine("‚£ø  08 - Excluir           ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêAUTOR„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  09 - Inserir           ‚£ø");
    Console.WriteLine("‚£ø  10 - Listar            ‚£ø");
    Console.WriteLine("‚£ø  11 - Atualizar         ‚£ø");
    Console.WriteLine("‚£ø  12 - Excluir           ‚£ø");
    Cor.DarkRed();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLEITOR„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.DarkBlue();
    Console.WriteLine("‚£ø  13 - Listar            ‚£ø");
    Console.WriteLine("‚£ø  14 - Excluir           ‚£ø");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Console.WriteLine("‚£ø  99 - Logout            ‚£ø");
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Op√ß√£o: ");
    return int.Parse(Console.ReadLine());    
  }
  
  /*==========TRATAMENTO DE G√äNEROS=============*/
  public static void GeneroBuscar(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêBUSCAR G√äNERO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Digite Sua Busca üîé ou 0\n  para sair: ");
    string busca = Console.ReadLine();
    if(busca=="0") MainLeitor(); 
    Genero g = NGenero.Buscar(busca);
    if(g==null){
      Cor.DarkRed();
      Console.WriteLine("G√™nero n√£o encontrado ‚úò");
      Cor.White();
      Console.WriteLine("Deseja fazer uma nova busca: S/N ");
      string resp = Console.ReadLine();
      if(resp.ToUpper() == "N") MainLeitor();
      GeneroBuscar();
    }     
    Cor.Magenta();
    Console.WriteLine(g);
    Cor.White();
    Console.Write("‚ñ∂ Deseja Listar os Livros\n  do G√™nero? S/N ");
    string res = Console.ReadLine();
    if(res.ToUpper() == "N".ToUpper()) GeneroBuscar();
    if(res.ToUpper() == "S"){
    Cor.White();          
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Livro i in NLivro.ListarLivroGenero(g))
      Console.WriteLine($"{i.Id} - {i.Titulo} - Autor: {NAutor.Pesquisar(i.IdAutor).Nome}");
    Cor.White();
    Console.Write("‚ñ∂ Escolher livro ou 0 para\n  voltar: ");
    int idlivro = int.Parse(Console.ReadLine());
    if(idlivro==0){ 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainLeitor();
    }
    Livro l = NLivro.Pesquisar(idlivro);
    Leitura nova = new Leitura();
    nova.IdLivro = l.Id;
    nova.IdUsuario = leitorLogado.Id;
    nova.Situacao = true;
    nova.DataInicio = DateTime.Today;
    NLeitura.Inserir(nova);
    
    Cor.Green();
    Console.WriteLine("Livro Selecionado ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    else{
      Cor.DarkRed();
      Console.WriteLine("Comando Inv√°lido ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      GeneroBuscar();
    }
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      GeneroBuscar();
    }
    
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
  
  public static void UsuarioGeneroListar(){
    try{
    GeneroListar();
    Console.Write("‚ñ∂ Qual G√™nero: ");
    int id = int.Parse(Console.ReadLine());
    Genero g = NGenero.Pesquisar(id);
    Cor.White();          
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Livro i in NLivro.ListarLivroGenero(g))
      Console.WriteLine($"{i.Id} - {i.Titulo} - Autor: {NAutor.Pesquisar(i.IdAutor).Nome}");
    Cor.White();
    Console.Write("‚ñ∂ Escolher livro ou 0 para\n  voltar: ");
    int idlivro = int.Parse(Console.ReadLine());
    if(idlivro==0){ 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainLeitor();
    }
    else{
      Livro l = NLivro.Pesquisar(idlivro);
      Leitura nova = new Leitura();
      nova.IdLivro = l.Id;
      nova.IdUsuario = leitorLogado.Id;
      nova.Situacao = true;
      nova.DataInicio = DateTime.Today;
      NLeitura.Inserir(nova);
    }
    Cor.Green();
    Console.WriteLine("Livro Selecionado ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      UsuarioGeneroListar();
    }
  }
  public static void GeneroInserir(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêNOVO G√äNERO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Cor.White();
    //PEDE DADOS DO NOVO G√äNERO
    Console.Write("‚ñ∂ Descri√ß√£o: ");
    string desc = Console.ReadLine();
    //INSTANCIA NOVO OBJETO A SER INSERIDO
    Genero novo = new Genero();
    novo.Descricao = desc;
    //CHAMA O M√âTODO INSEIR COM O OBJETO COMO PAR√ÇMETRO
    NGenero.Inserir(novo);
    Cor.Green();
    Console.WriteLine("G√™nero Cadastrado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("G√™nero j√° Cadastrado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void GeneroListar(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêG√äNEROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    //FAZ A CHAMADA DO M√âTODO LISTA(), ESSE M√âTODO RETORNA UMA LISTA COM OS OBJETOS INSERIDOS AT√â ENT√ÉO
    Cor.Magenta();
    foreach(Genero i in NGenero.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° G√™neros ‚úò");
      Cor.White();
   Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void GeneroAtualizar(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑„ÄêATUALIZAR G√äNERO„Äë‚à∑‚à∑‚à∑");
    //LISTA AS OP√á√ïES
    Cor.Magenta();
    foreach(Genero i in NGenero.Listar())
      Console.WriteLine(i);
    //ID DO OBJETO A SER ATUALIZADO E A NOVA DESCRI√á√ÉO
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    Console.Write("‚ñ∂ Descri√ß√£o: ");
    string desc = Console.ReadLine();
    //INSTANCIA UM NOVO OBJETO COM ID E DESCRI√á√ÉO PEDIDOS
    Genero x = new Genero();
    x.Id = id;
    x.Descricao = desc;
    //CHAMA O M√âTODO ATUALIZAR COM A INST√ÇNCIA
    NGenero.Atualizar(x);
    Cor.Green();
    Console.WriteLine("G√™nero Atualizado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° G√™neros ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }
  
  public static void GeneroExcluir(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêEXCLUIR G√äNERO„Äë‚à∑‚à∑‚à∑‚à∑");
    //LISTA AS OP√á√ïES
    Cor.Magenta();
    foreach(Genero i in NGenero.Listar())
      Console.WriteLine(i);
    //PEDE O ID DO OBJETO A SER EXCLU√çDO
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    //INSTANCIA NOVO OBJETO COM ID INFORMADO
    Genero x = new Genero();
    x.Id = id;
    //CHAMA O M√âTODO EXCLUIR COM A INSTANCIA COMO PAR√ÇMETRO
    NGenero.Excluir(x);
    Cor.Green();
    Console.WriteLine("G√™nero Exclu√≠do ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° G√™neros ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }


  /*==================TRATAMENTO DE LIVRO=====================*/

  public static void UsuarioLivroBuscar(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêBUSCAR LIVRO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Digite Sua Busca üîé ou 0\n  para sair: ");
    string busca = Console.ReadLine();
    if(busca=="0") MainLeitor();
    Livro a = NLivro.Buscar(busca);
    if(a==null){
      Cor.DarkRed();
      Console.WriteLine("Livro n√£o encontrado ‚úò");
      Cor.White();
      Console.Write("‚ñ∂ Deseja fazer uma nova busca: S/N ");
      string resp = Console.ReadLine();
      if(resp.ToUpper() == "N".ToUpper()) MainLeitor();
      UsuarioLivroBuscar();
    }
    Cor.Magenta();
    Console.WriteLine($"{a.Id} - {a.Titulo} - Autor: {NAutor.Pesquisar(a.IdAutor).Nome} - G√™nero: {NGenero.Pesquisar(a.IdGenero).Descricao}");
    Cor.White();          
    Console.Write("‚ñ∂ Deseja Adicionar Livro a Leitura? S/N: ");
    string r = Console.ReadLine();
    if(r.ToUpper()=="N"){ 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainLeitor();
    }
    if(r.ToUpper()=="S"){  
    Leitura nova = new Leitura();
    nova.IdLivro = a.Id;
    nova.IdUsuario = leitorLogado.Id;
    nova.Situacao = true;
    nova.DataInicio = DateTime.Today;
    NLeitura.Inserir(nova);
    Cor.Green();
    Console.WriteLine("Livro Selecionado ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    else{
     Cor.DarkRed();
     Console.WriteLine("Comando Inv√°lido ‚úò");
     Cor.White();
     Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî"); 
     UsuarioLivroBuscar();          }
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      UsuarioLivroBuscar();
    }
    
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
  
  public static void UsuarioLivroListar(){
    try{
    Cor.White();          
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Livro i in NLivro.Listar())
      Console.WriteLine($"{i.Id} - {i.Titulo} - G√™nero: {NGenero.Pesquisar(i.IdGenero).Descricao}");
    Cor.White();
    Console.Write("‚ñ∂ Escolher livro ou 0 para\n  voltar: ");
    int idlivro = int.Parse(Console.ReadLine());
    if(idlivro==0){ 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainLeitor();
    }
 
    Livro l = NLivro.Pesquisar(idlivro);
    Leitura nova = new Leitura();
    nova.IdLivro = l.Id;
    nova.IdUsuario = leitorLogado.Id;
    nova.Situacao = true;
    nova.DataInicio = DateTime.Today;
    NLeitura.Inserir(nova);

    Cor.Green();
    Console.WriteLine("Livro Selecionado ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      UsuarioLivroListar();
    }
  }
  
  public static void LivroInserir(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑„ÄêCADASTRAR LIVRO„Äë‚à∑‚à∑‚à∑‚à∑");
    //DADOS DO NOVO LIVRO A SER INSERIDO
    Cor.White();
    Console.Write("‚ñ∂ T√≠tulo: ");
    string titulo = Console.ReadLine();
    //Console.Write("‚ñ∂ Ano de lan√ßamento: ");
    //int ano = int.Parse(Console.ReadLine());
    //OP√á√ïES DE G√äNERO QUE O LIVRO PERTENCE
    Cor.Magenta();
    foreach(Genero i in NGenero.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.Write("‚ñ∂ Id do G√™nero: ");
    int idgenero = int.Parse(Console.ReadLine());
    //OP√á√ïES DE AUTORES
    Cor.Magenta();
    foreach(Autor i in NAutor.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.Write("‚ñ∂ Id do Autor: ");
    int idautor = int.Parse(Console.ReadLine());
    //INST√ÇNCIA DO NOVO OBJETO LIVRO, GENERO E AUTOR. GENERO E AUTOR SERVEM PARA RECUPERAR OS ID PARA INSERIR NO LIVRO
    Genero genero = NGenero.Pesquisar(idgenero);
    Autor autor = NAutor.Pesquisar(idautor);
    Livro novo = new Livro();
    novo.Titulo = titulo;
    //novo.SetAnoLancamento(ano);
    novo.IdGenero = genero.Id;
    novo.IdAutor = autor.Id;
    NLivro.Inserir(novo);
    Cor.Green();
    Console.WriteLine("Livro Cadastrado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Livro j√° Cadastrado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void LivroListar(){
   try{ Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Livro i in NLivro.Listar())
      Console.WriteLine($"{i.Id} - {i.Titulo} - Autor: {NAutor.Pesquisar(i.IdAutor).Nome} - G√™nero: {NGenero.Pesquisar(i.IdGenero).Descricao}");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Livros n√£o encontrado ‚úò");
      Cor.White();
    }
  }
  
  
  public static void LivroAtualizar(){
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑„ÄêATUALIZAR LIVRO„Äë‚à∑‚à∑‚à∑‚à∑");
    //OP√á√ïES DE LIVROS PARA ATUALIZAR
    Cor.Magenta();
    foreach(Livro i in NLivro.Listar())
      Console.WriteLine($"{i.Id} - {i.Titulo} - Autor: {NAutor.Pesquisar(i.IdAutor).Nome} - G√™nero: {NGenero.Pesquisar(i.IdGenero).Descricao}");
    //ID E DADOS A SEREM ATUALIZADOS
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    Console.Write("‚ñ∂ T√≠tulo: ");
    string titulo = Console.ReadLine();
    Console.Write("‚ñ∂ Ano: ");
    int ano = int.Parse(Console.ReadLine());
    //NOVA INST√ÇNCIA COM OBJETOS COM DADOS PARA ATUALIZA√á√ÉO
    Livro x = NLivro.Pesquisar(id);
    x.Titulo = titulo;
    x.SetAnoLancamento(ano);
    //CHAMADA DE M√âTODO PARA ATULIZA√á√ÉO
    NLivro.Atualizar(x);
    Cor.Green();
    Console.WriteLine("Livro Atualizado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
  public static void LivroExcluir(){
   try{ Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêEXCLUIR LIVRO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑");
    //LISTA AS OP√á√ïES
    Cor.Magenta();
    foreach(Livro i in NLivro.Listar())
      Console.WriteLine(i);
    //PEDE O ID DO OBJETO A SER EXCLU√çDO
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    //INSTANCIA NOVO OBJETO COM ID INFORMADO
    Livro x = new Livro();
    x.Id = id;
    //CHAMA O M√âTODO EXCLUIR COM A INSTANCIA COMO PAR√ÇMETRO
    NLivro.Excluir(x);
    Cor.Green();
    Console.WriteLine("Livro Exclu√≠do ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Livro n√£o encontrado ou n√£o existem livros ‚úò");
      Cor.White();
    }
  }

  /*===============TRATAMENTO DE AUTOR================*/
  public static void AutorBuscar(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêBUSCAR AUTOR„Äë‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Digite Sua Busca üîé ou 0\n  para sair: ");
    string busca = Console.ReadLine();
    if(busca.ToUpper() == "0") MainLeitor();
    Autor a = NAutor.Buscar(busca);
    if(a==null){
      Cor.DarkRed();
      Console.WriteLine("Autor n√£o encontrado ‚úò");
      Cor.White();
      Console.WriteLine("Deseja fazer uma nova busca: S/N ");
      string resp = Console.ReadLine();
      if(resp.ToUpper() == "N") MainLeitor();
      AutorBuscar();
    }
    Cor.Magenta();
    Console.WriteLine(a);
    Cor.White();
    Console.Write("‚ñ∂ Deseja Listar os Livros\n  do Autor? S/N ");
    string res = Console.ReadLine();
    if(res.ToUpper() == "N") AutorBuscar();
    if(res.ToUpper() == "S"){
      Cor.White();          
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
      Cor.Yellow();
      Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
      Cor.Magenta();
      foreach(Livro i in NLivro.ListarLivroAutor(a))
      Console.WriteLine($"{i.Id} - {i.Titulo} - G√™nero: {NGenero.Pesquisar(i.IdGenero).Descricao}");
      Cor.White();
      Console.Write("‚ñ∂ Escolher livro ou 0 para\n  voltar: ");
      int idlivro = int.Parse(Console.ReadLine());
      if(idlivro==0){ 
        Cor.White();
        Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
        MainLeitor();
      }
      Livro l = NLivro.Pesquisar(idlivro);
      Leitura nova = new Leitura();
      nova.IdLivro = l.Id;
      nova.IdUsuario = leitorLogado.Id;
      nova.Situacao = true;
      nova.DataInicio = DateTime.Today;
      NLeitura.Inserir(nova);
      
      Cor.Green();
      Console.WriteLine("Livro Selecionado ‚úî"); 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    else{
     Cor.DarkRed();
     Console.WriteLine("Comando Inv√°lido ‚úò");
     Cor.White();
     Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî"); 
     AutorBuscar();
    }
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      AutorBuscar();
    }
    
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
  }
  
  public static void UsaurioAutorListar(){
    try{
    AutorListar();
    Console.Write("‚ñ∂ Qual Autor: ");
    int id = int.Parse(Console.ReadLine());
    Autor a = NAutor.Pesquisar(id);
    Cor.White();          
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLIVROS„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Livro i in NLivro.ListarLivroAutor(a))
      Console.WriteLine($"{i.Id} - {i.Titulo} - G√™nero: {NGenero.Pesquisar(i.IdGenero).Descricao}");
    Cor.White();
    Console.Write("‚ñ∂ Escolher livro ou 0 para\n  voltar: ");
    int idlivro = int.Parse(Console.ReadLine());
    if(idlivro==0){ 
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainLeitor();
    }
    else{
      Livro l = NLivro.Pesquisar(idlivro);
      Leitura nova = new Leitura();
      nova.IdLivro = l.Id;
      nova.IdUsuario = leitorLogado.Id;
      nova.Situacao = true;
      nova.DataInicio = DateTime.Today;
      NLeitura.Inserir(nova);
    }
    Cor.Green();
    Console.WriteLine("Livro Selecionado ‚úî"); 
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Livro J√° Selecionado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      UsaurioAutorListar();
    }
  }
  
  public static void AutorInserir(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑„ÄêCADASTRAR AUTOR„Äë‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    //PEDE DADOS DO NOVO AUTOR
    Console.Write("‚ñ∂ Nome: ");
    string nome = Console.ReadLine();
    //INSTANCIA NOVO OBJETO A SER INSERIDO
    Autor novo = new Autor();
    novo.Nome = nome;
    //CHAMA O M√âTODO INSEIR COM O OBJETO COMO PAR√ÇMETRO
    NAutor.Inserir(novo);
    Cor.Green();
    Console.WriteLine("Autor Cadastrado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
     catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Autor j√° Cadastrado ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void AutorListar(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêAUTORES„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Autor i in NAutor.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° Autore ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void AutorAtualizar(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑„ÄêATUALIZAR AUTOR„Äë‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Autor i in NAutor.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    Console.Write("‚ñ∂ Novo nome: ");
    string nome = Console.ReadLine();
    Autor x = NAutor.Pesquisar(id);
    x.Nome = nome;
    NAutor.Atualizar(x);
    Cor.Green();
    Console.WriteLine("Autor Atualizado ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° Autores ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void AutorExcluir(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêEXCLUIR AUTOR„Äë‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Autor i in NAutor.Listar())
      Console.WriteLine(i);
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    Autor x = NAutor.Pesquisar(id);
    NAutor.Excluir(x);
    Cor.Green();
    Console.WriteLine("Autor Exclu√≠do ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o H√° Autores ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  
  /*============TRATAMENTO DE USUARIO ===========*/
  public static void UsuarioListar(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêLEITORES„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Usuario i in NUsuario.Listar())
      Console.WriteLine($"{i.Id} - {i.Nome}");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o tem Usu√°rios Cadastrados ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
    
  }
  public static void UsuarioExcluir(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêEXCLUIR LEITOR„Äë‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Usuario i in NUsuario.Listar())
      Console.WriteLine($"{i.Id} - {i.Nome}");
    Cor.White();
    Console.Write("‚ñ∂ Id: ");
    int id = int.Parse(Console.ReadLine());
    Usuario x = NUsuario.Pesquisar(id);
    NUsuario.Excluir(x);
    Console.WriteLine("Leitor Exclu√≠do ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("N√£o tem Usu√°rios Cadastrados ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      MainAdmin();
    }
  }

  public static void MudarSenha(){
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêMUDAR SENHA„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Digite sua nova senha: ");
    string novaSenha = Console.ReadLine();
    Usuario x = NUsuario.Pesquisar(leitorLogado.Id);
    x.Senha = novaSenha;
    NUsuario.Atualizar(x);
    Cor.Green();
    Console.WriteLine("Senha Alterada ‚úî");
  }
  public static void Cadastro(){
    try{
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêCADASTRO„Äë‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑‚à∑");
    Cor.White();
    Console.Write("‚ñ∂ Seu nome: ");
    string nome = Console.ReadLine();
    Console.Write("‚ñ∂ Nome de usu√°rio: ");
    string nomeusuario = Console.ReadLine();
    Console.Write("‚ñ∂ Senha: ");
    string senha = Console.ReadLine();

    Usuario u = new Usuario();
    u.Nome = nome;
    u.NomeUsuario = nomeusuario;
    u.Senha = senha;
    NUsuario.Inserir(u);
    
    Cor.Green();
    Console.WriteLine("Usu√°rio Cadastro ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(ArgumentOutOfRangeException){
      Cor.DarkRed();
      Console.WriteLine("Nome de usu√°rio j√° existe ‚úò");
      Cor.White();
      Cadastro();
    }
  }


  /*==========================TRATAMENTO DE LEITUTA==================*/
  public static void LeituraListar(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêSUAS LEITURAS„Äë‚à∑‚à∑‚à∑‚à∑");
    foreach(Leitura i in NLeitura.ListarLeituraUsuario(leitorLogado)){
      if(i.Situacao){
        Cor.Magenta();
        Console.Write($"{i.Id} - {NLivro.Pesquisar(i.IdLivro).Titulo}");
        Cor.Green();
        Console.Write($" Aberto");
        Cor.Magenta();
        Console.WriteLine($" {i.DataInicio:dd/MM}");
      }
      else{
        Cor.Magenta();
        Console.Write($"{i.Id} - {NLivro.Pesquisar(i.IdLivro).Titulo}");
        Cor.DarkRed();
        Console.Write($" Fechado");
        Cor.Magenta();
        Console.WriteLine($" {i.DataInicio:dd/MM}");
      }
    }
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    Console.WriteLine("1 - Fechar Leitura");
    Console.WriteLine("2 - Abrir Leitura");
    Console.WriteLine("0 - Voltar");
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");  
    Console.Write("‚ñ∂ Op√ß√£o: ");
    string resp = Console.ReadLine();
    if(resp=="0") MainLeitor();
    if(resp=="1"){
      Console.Write("‚ñ∂ Id da Leitura: ");
      int idleitura = int.Parse(Console.ReadLine());
      Leitura x = NLeitura.Pesquisar(idleitura);
      if(!x.Situacao){
        Cor.DarkRed();
        Console.WriteLine("Leitura j√° fechada ‚úò");
        Cor.White();
        Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
        LeituraListar();
      }
      x.Situacao = false;
      x.DataFim = DateTime.Today;
      NLeitura.Atualizar(x);
      Cor.Green();
      Console.WriteLine("Leitura Fechada ‚úî");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      LeituraListar();
    }
    if(resp=="2"){
      Console.Write("‚ñ∂ Id da Leitura: ");
      int idleitura = int.Parse(Console.ReadLine());
      Leitura x = NLeitura.Pesquisar(idleitura);
      if(x.Situacao){
        Cor.DarkRed();
        Console.WriteLine("Leitura j√° Aberta ‚úò");
        Cor.White();
        Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
        LeituraListar();
      }
      x.Situacao = true;
      x.DataInicio = DateTime.Today;
      NLeitura.Atualizar(x);
      Cor.Green();
      Console.WriteLine("Leitura Aberta ‚úî");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      LeituraListar();
    }
    else{
      Cor.DarkRed();
      Console.WriteLine("Comando Inv√°lido ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      LeituraListar();
    }
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Leitura n√£o encontrada ou n√£o existem leituras ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      //LeituraListar();
      MainLeitor();
    }
  }

  public static void LeituraExcluir(){
    try{
    Cor.Yellow();
    Console.WriteLine("‚à∑‚à∑‚à∑‚à∑‚à∑„ÄêEXCLUIR LEITURA„Äë‚à∑‚à∑‚à∑‚à∑");
    Cor.Magenta();
    foreach(Leitura i in NLeitura.Listar())
      Console.WriteLine($"{i.Id} - {NLivro.Pesquisar(i.IdLivro).Titulo} - Autor {NAutor.Pesquisar(NLivro.Pesquisar(i.IdLivro).IdAutor).Nome} - G√™nero: {NGenero.Pesquisar(NLivro.Pesquisar(i.IdLivro).IdGenero).Descricao}");
    Cor.White();
    Console.Write("‚ñ∂ Id da Leitura: ");
    int idleitura = int.Parse(Console.ReadLine());
    Leitura x = NLeitura.Pesquisar(idleitura);
    NLeitura.Excluir(x);
    Cor.Green();
    Console.WriteLine("Leitura Exclu√≠da ‚úî");
    Cor.White();
    Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
    }
    catch(NullReferenceException){
      Cor.DarkRed();
      Console.WriteLine("Leitura n√£o encontrada ou n√£o existem leituras ‚úò");
      Cor.White();
      Console.WriteLine("‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî");
      //LeituraExcluir();
    }
  }
}